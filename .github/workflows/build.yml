name: Build RVMob (non-release)

on:
  push:

jobs: 
  build-win:
    runs-on: windows-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3
      - name: Setup Node
        uses: actions/setup-node@v2
        with:
            node-version: 18
            cache: "yarn"
      - name: Install and prepare dependencies
        run: yarn install && npx rn-nodeify -e
      - name: Build the app
        run: npx react-native build-android --mode debug
  build-linux:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3
      - name: Setup Node
        uses: actions/setup-node@v2
        with:
            node-version: 18
            cache: "yarn"
      - name: Install and prepare dependencies
        run: yarn install && npx rn-nodeify -e
      - name: Build the app
        run: npx react-native build-android --mode debug